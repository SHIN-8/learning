# DDD  Patterns

ドメイン駆動設計で使われるオブジェクト指向の実装パターンについて解説します。

ドメイン駆動設計の全貌を把握するのは難しいので（私も全然把握してません）、まずは開発者として理解しやすい技術的なところから入ることでドメイン駆動設計の学習のきっかけになればいいと思ってます。

## 参考

書籍「[ドメイン駆動設計入門 ボトムアップでわかる！ドメイン駆動設計の基本](https://www.shoeisha.co.jp/book/detail/9784798150727)」を大いに参考にしており、本リポジトリではこの書籍をベースに解説していきます。

ちなみに本家「エリック・エヴァンスのドメイン駆動設計」や「実践ドメイン駆動設計」は読んでません (´・ω・｀)ﾕﾙｼﾃ...

## サンプルコード

サンプルコードは、型がある方が解説しやすい & メンバーに馴染み深い言語である TypeScript で書いています。

## ドメイン駆動設計(Domain-driven design, DDD) とは

エリック・エヴァンス氏が提唱した、文字通りドメインの知識に焦点を当てた設計手法です。

### ドメインの知識とは

ドメインとは業務やサービスなどの「システム化の対象となる領域」のことを指します。

となると、ドメインの知識とは「システム化の対象となる領域における知識」を意味します。

これはドメインに関わるすべての情報という意味ではなく、その中から必要なものだけ取捨選択された情報を意味します。

#### 例）キングプリンターズにおけるドメインの知識

- 顧客の住所
- 印刷機が印刷できる紙のサイズ

逆に以下はドメインの知識ではありません。

- 顧客の性別
- 印刷機の生産国

### ドメインモデルとドメインオブジェクト

ドメインの概念や知識を、ドメインの世界の住人（現場の方々など）とソフトウェアエンジニアが協力して抽象化したものをドメインモデルといいます。

そしてドメインモデルをソフトウェアで動作するモジュールとして表現したものがドメインオブジェクトです。

そしてドメインモデルとドメインオブジェクトは一方通行の関係ではなく、以下のように互いに影響し合う関係として開発します。

- 業務変更によりドメインモデルが変わる→ドメインオブジェクトに反映
- ドメインモデルが曖昧でドメインオブジェクトとして表現できない→ドメインモデルを見直し

## DDD を実現する 2 つのアプローチ

DDD の実現には「戦略」と「戦術」の 2 つのアプローチが必要となります。

### 戦略的アプローチ

- ドメイン知識の抽出とドメインモデル化

### 戦術的アプローチ

- ドメインオブジェクトを用いたオブジェクト指向の実装パターン（←本リポジトリのスコープ）

## DDD におけるオブジェクト指向の実装パターン

[参考図書](#参考) では以下の実装パターンが紹介されています。

> - 知識を表現するパターン
>   - 値オブジェクト
>   - エンティティ
>   - ドメインサービス
> - アプリケーションを実現するためのパターン
>   - リポジトリ
>   - アプリケーションサービス
>   - ファクトリ
> - 知識を表現する、より発展的なパターン
>   - 集約
>   - 仕様

本リポジトリではこれらをちょっとずつ解説していきます。
